<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/IDB-LOGO-negativo.png" type="image/x-icon">
    <title>Igreja de Deus - Sitíos St. Luzia</title>

    

    <!-- slick js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js" integrity="sha512-HGOnQO9+SP1V92SrtZfjqxxtLmVzqZpjFFekvzZVWoiASSQgSr4cw9Kqd2+l8Llp4Gm0G8GIFJ4ddwZilcdb8A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.css" integrity="sha512-6lLUdeQ5uheMFbWm3CP271l14RsX1xtx+J5x2yeIDkkiBpeVTNhTqijME7GgRKKi6hCqovwCoBTlRBEC20M8Mg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.css" integrity="sha512-wR4oNhLBHf7smjy0K4oqzdWumd+r5/+6QO/vDda76MW5iug4PT7v86FoEkySIJft3XA0Ae6axhIvHrqwm793Nw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
     <!-- slick js -->
    
    
    <link rel="stylesheet" href="css/homepage_style.css">
    <link rel="stylesheet" href="css/colors.css">
</head>
<body>
    <header id="header" style="transition: all 0.5s ease-in-out;" >
        <div class="logo_container"> 
            <a href="/index.html" class="img-logo-button" ><img class="img-logo" src="img/logo-2.png" alt=""></a>
        </div>

        <nav>
            <ul class="nav-items">
                <div class="div_header"><a  href="/templates/about.html">Cultos</a></div>
                <div class="div_header"><a  href="/templates/cultos.html">Quem somos</a></div>
                <div class="div_header"><a  href="/templates/projects.html">Projetos</a></div>
                <div class="div_header"><a  href="/templates/contact.html" class="nav-item"><button>Contato</button></a></div>    
            </ul>        
        </nav>
    </header>

    <main>
    <section class="section1">
        <div class="box_1">
            <p class="Idb_titulo">Igreja de Deus no Brasil</p>
            <p class="Idb_titulo">Sitíos St. Luzia</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum deleniti adipisci corporis doloribus blanditiis non sint dignissimos. Laudantium laboriosam unde culpa vel deleniti! Tempora rem dolorem nostrum facere dolore odio.</p>
        </div>
    </section>
    <section  class="section2">

        <div class="instagram_div">
            <p>Nos acompanhe no instagram clicando nos posts abaixo!</p>
            <div class="container responsive autoplay"></div>
        </div>
    </section>
</main>
    <footer> 
        <img src="img/inverted_logo.png" alt="">
        <p>2024 - Igreja de Deus no Brasil Sítios St. Luzia - todos os direitos reservados.</p>
        <div class="social_buttons">
            <a href="https://www.instagram.com/idbfamiliasitio/"><img class="img_socials" src="img/instagram_whie.png" alt="" ></a>
            <a href="https://www.facebook.com/IgrejaDeDeusNoBrasilSantaLuzia/?locale=pt_BR"><img class="img_socials" src="img/facebook_white.png" alt="" ></a>
            
        </div>
        
    </footer>


    <script src="js/carousel.js"></script>
    <script src="js/script.js"></script>
    
    <script type="text/javascript"> 
        
        const tituloElements = document.querySelectorAll('.Idb_titulo');

        function animateOnScroll() {
            tituloElements.forEach(element => {
                const rect = element.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    element.classList.add('animate');
                }
            });
        }

        window.addEventListener('scroll', animateOnScroll);
        animateOnScroll(); // Chame uma vez para animar elementos visíveis na carga

        
        
        let lastScrollTop = 0;
        const header = document.getElementById('header');

        // Set an initial scrollTop position
        window.addEventListener('scroll', () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > lastScrollTop && scrollTop > 0) {
            // Scrolling down, hide the header
            header.style.transform = 'translateY(-100%)';
        } else {
            // Scrolling up, show the header
            header.style.transform = 'translateY(0)';
        }

        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // For Mobile or negative scrolling


        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const campos = "media_type,media_url,permalink";
        const limite = 40;
        const token = process.env.API_KEY;

        console.log(API_KEY)



        const baseURL = `https://graph.instagram.com/me/media?fields=${campos}&access_token=${token}&limit=${limite}`;
        
        fetch(baseURL)
            .then((response) => response.json())
            .then((data) => { 
                const container = document.querySelector(".container");

                data.data.forEach((img) => {
                    const mediaType = img.media_type;
                    const mediaUrl = img.media_url;
                    const permalink = img.permalink;
                    if (mediaType === "VIDEO") {
                        // const video = document.createElement("video");
                        // video.src = mediaUrl;
                        // video.classList.add("container-video");
                        // container.appendChild(video);
                    } else {
                        const anchor = document.createElement("a");
                        anchor.href = permalink;
                        anchor.target = "_blank"; // Open in a new tab
                        const image = document.createElement("img");
                        image.src = mediaUrl;
                        image.classList.add("container-img");
                        image.onload = () => {
                            image.style.opacity = 1; // Defina a opacidade para 1 após o carregamento
                        };
                        anchor.appendChild(image);
                        container.appendChild(anchor);
                    }
                });

                // Inicialize o carrossel após adicionar as imagens
                $('.responsive').slick({
                    dots: true,
                    arrows: true,
                    infinite: true,
                    speed: 300,
                    slidesToShow: 4,
                    slidesToScroll: 4,
                    responsive: [
                        {
                            breakpoint: 1024,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 3,
                                infinite: true,
                                dots: true,
                                arrows: true,
                            }
                        },
                        {
                            breakpoint: 600,
                            settings: {
                                slidesToShow: 2,
                                slidesToScroll: 2,
                                arrows: true,
                            }
                        },
                        {
                            breakpoint: 480,
                            settings: {
                                slidesToShow: 1,
                                slidesToScroll: 1,
                                arrows: true,
                            }
                        }
                    ]
                });
            })
            .catch((error) => {
                console.error("Error fetching Instagram data:", error);
            });

        // Adicione a animação ao rolar a página
        
    });
    </script>
</body>
</html>